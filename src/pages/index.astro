---
import { getCollection } from 'astro:content';

const allThoughts = await getCollection('thoughts');

// Filter out meta thoughts and sort by title alphabetically
const sortedThoughts = [...allThoughts]
  .filter(thought => !['digital-garden', 'nightwing-haven'].includes(thought.slug))
  .sort((a, b) => a.data.title.localeCompare(b.data.title));

const maturityEmoji = {
  seed: 'ðŸŒ°',
  sprout: 'ðŸŒ±',
  growing: 'ðŸŒ¿',
  evergreen: 'ðŸŒ³',
};
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TwilightWorld.ai</title>
  <meta name="description" content="Thoughts on building software with AI">
</head>
<body>
  <main class="container">
    <header class="garden-header">
      <h1>TwilightWorld<span class="domain">.ai</span></h1>
      <p class="intro">
        The world of traditional software, and of traditional software engineering, is ending. The autonomous, thinking systems of the future are among us. In this digital garden read my ongoing reflections on building software in the age of AI. Walk a <a href="#paths">path</a> or peruse all the <a href="#catalog">thoughts</a>.
      </p>
    </header>

    <div class="maturity-key">
      <span class="key-item"><span class="emoji">ðŸŒ°</span> Seed: Ideas not yet written</span>
      <span class="key-item"><span class="emoji">ðŸŒ±</span> Sprout: Early explorations</span>
      <span class="key-item"><span class="emoji">ðŸŒ¿</span> Growing: Developing thoughts</span>
      <span class="key-item"><span class="emoji">ðŸŒ³</span> Evergreen: Mature concepts</span>
    </div>

    <section class="paths" id="paths">
      <h2 class="paths-heading">Paths through the Garden</h2>
      <p class="path">
        How do AI systems understand our code? <a href="/thoughts/semantic-binding">Semantic Binding <span class="thought-emoji">ðŸŒ°</span></a> explores how AI connects meaning to code. This understanding enables <a href="/thoughts/atomic-programming">Atomic Programming <span class="thought-emoji">ðŸŒ°</span></a>, where we structure software into composable units that AI can manipulate. Together, these create <a href="/thoughts/flash-programming">Flash Programming <span class="thought-emoji">ðŸŒ°</span></a>â€”development cycles that move at the speed of thought.
      </p>
      <p class="path">
        As AI augments our capabilities, we're entering an age of <a href="/thoughts/hypercompetence">Hypercompetence <span class="thought-emoji">ðŸŒ°</span></a>â€”operating far beyond our natural limits. What does it mean to be a developer when the boundaries of individual capability expand exponentially?
      </p>
    </section>

    <section class="catalog-section" id="catalog">
      <h2 class="catalog-heading">Parts of the Algorithm</h2>
      <ul class="thoughts-list">
      {sortedThoughts.map(thought => (
        <li class="thought-item">
          <a href={`/thoughts/${thought.slug}`} class="thought-link">
            <div class="thought-content">
              <h2 class="thought-title">{thought.data.title} <span class="thought-emoji">{maturityEmoji[thought.data.maturity]}</span></h2>
              <p class="thought-summary">{thought.data.summary}</p>
            </div>
          </a>
        </li>
      ))}
      </ul>
    </section>

  </main>

  <footer class="footer">
    <p class="footer-quote">We live in a twilight world.</p>
    <p class="footer-response">And there are no friends at dusk.</p>
  </footer>

</body>
</html>

<style>
  :root {
    --color-bg: #1e293b;
    --color-text: #f9f5d7;
    --color-text-muted: #d5c4a1;
    --color-border: #334155;
    --color-accent: #22d3ee;
    --color-card-bg: #334155;
    --color-seed: #d4a574;
    --color-sprout: #b8bb26;
    --color-growing: #8ec07c;
    --color-evergreen: #689d6a;
    --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    --font-mono: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: var(--font-sans);
    background: var(--color-bg);
    color: var(--color-text);
    line-height: 1.7;
    padding: 2rem 2rem;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .garden-header {
    text-align: left;
    margin-bottom: 3rem;
  }

  .garden-header h1 {
    font-size: 5rem;
    margin-bottom: 0.5rem;
    font-weight: 700;
  }

  .domain {
    color: #5a6f8f;
  }

  .intro {
    max-width: 700px;
    color: var(--color-text-muted);
    margin-top: 0.5rem;
  }

  .intro a {
    color: var(--color-accent);
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .intro a:hover {
    opacity: 0.7;
  }

  .maturity-key {
    display: flex;
    gap: 2rem;
    margin-bottom: 3rem;
    padding: 1rem;
    background: rgba(51, 65, 85, 0.3);
    border-radius: 0.5rem;
    flex-wrap: wrap;
  }

  .key-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--color-text-muted);
  }

  .key-item .emoji {
    font-size: 1.2em;
  }

  .paths {
    margin-bottom: 3rem;
  }

  .paths-heading {
    font-size: 2.5rem;
    font-weight: 600;
    margin-bottom: 2rem;
    color: var(--color-text);
  }

  .path {
    max-width: 700px;
    color: var(--color-text-muted);
    margin-bottom: 1.5rem;
    line-height: 1.7;
  }

  .path a {
    color: var(--color-accent);
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .path a:hover {
    opacity: 0.7;
  }

  .path .thought-emoji {
    font-size: 0.9rem;
    margin-left: 0.25rem;
  }

  .catalog-section {
    margin-top: 3rem;
  }

  .catalog-heading {
    font-size: 2.5rem;
    font-weight: 600;
    margin-bottom: 2rem;
    color: var(--color-text);
  }

  .thoughts-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .thought-item {
    transition: opacity 0.2s;
  }

  .thought-item:hover {
    opacity: 0.8;
  }

  .thought-link {
    display: block;
    text-decoration: none;
    color: var(--color-text);
  }

  .thought-emoji {
    font-size: 1rem;
    margin-left: 0.5rem;
  }

  .thought-content {
    flex: 1;
  }

  .thought-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--color-text);
  }

  .thought-link:hover .thought-title {
    color: var(--color-accent);
  }

  .thought-summary {
    color: var(--color-text-muted);
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .footer {
    max-width: 1200px;
    margin: 5rem auto 0;
    padding: 3rem 1rem 2rem;
    text-align: left;
  }

  .footer-quote {
    font-style: italic;
    color: var(--color-text-muted);
    margin-bottom: 0.5rem;
  }

  .footer-response {
    font-style: italic;
    color: #7a5a42;
  }

  @media (max-width: 768px) {
    .garden-header h1 {
      font-size: 3rem;
    }

    .maturity-key {
      flex-direction: column;
      gap: 0.75rem;
    }

  }
</style>
